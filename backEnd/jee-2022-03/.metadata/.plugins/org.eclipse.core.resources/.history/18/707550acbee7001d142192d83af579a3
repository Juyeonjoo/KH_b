package org.zerock.myapp;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.SocketException;

import lombok.extern.log4j.Log4j2;

@Log4j2
public class UDPServer {

	//DatagramPacket을 수신할 임무 
	// 지금 예제는 UDP서버가 UDP Client로 부터 오는 패킷들을 계속 수신만 하는 경우
	//수신한 패킷으로부터 얻어낸 데이터(문자열)을 콘솔에 계속 출력
	public static void main(String[] args) throws SocketException {
		
		//IP주소 뭘로들어와도 되고,이 Port번호에서 기다리겠다.
		
		int listenPort= 5001;
		DatagramSocket sock = new DatagramSocket(listenPort);
		
		while(true) {//무한루프- 언제올지 모르고 ,몇 번이나 패킷이 올지 모르니
			//만일에 패킷이 송신자(sender)로부터 들어온다면, 이 패킷을 받을 준비를 해야 된다.
			DatagramPacket packet = new DatagramPacket(new byte[100], 100);
			socket.receive(packet);
			
			
		}//while
		
	}//main
}//end class
