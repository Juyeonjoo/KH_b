package org.zerock.myapp;

import java.io.IOException;
import java.net.InetSocketAddress;
import java.net.Socket;
import java.net.SocketAddress;

import org.zerock.myapp.domain.Member;

import lombok.extern.log4j.Log4j2;

@Log4j2
public class OIOSocketClient {

	public static void main(String[] args) throws IOException {

		
		//Step1. 전송할 Member 객체를 생성 
		Member member = new Member ();
		member.setId(1);
		member.setName("Ju");
		member.setAge(23);
		log.info("1. member : {}", member );
		
// 		Step.2 Socket 객체로 Server에 연결 시도 => if 성공 => Connection 생성
		int serverListenPort = 5555;
		int connectTimeout = 1000*1; //in milliseconds.
		
		Socket socket = new Socket();
		socket.connect(new InetSocketAddress("localhost", serverListenPort), connectTimeout);
		SocketAddress serverSocketAddr = socket.getRemoteSocketAddress();//연결된 서버의 주소/포트 정보 획득
		
		log.info("serverSocketAddr", serverSocketAddr);
		
		
//		Step.3 
	}//main

}//end class
